<!--4/3/2025 Elizabeth Li-->

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Structure Viewer</title>
        <script src="https://unpkg.com/vtk.js"></script>
        <style> 
            body {
                font-family: Arial, sans-serif; 
                background-color: black;
                color: white;
                margin: 20px 20px 0 20px; /* top, right, bottom, left margin */
                display: flex;
                flex-direction: column;
                height: 100vh;
            }

            .main-container {
                display: flex;
                flex-direction: row;
                justify-content: space-between;
                flex: 1;
            }

            /* text on top left */
            .text-section {
                width: 28%;
                display: flex;
                flex-direction: column;
                justify-content: flex-start;
            }

            /* vtk container as a square on the top right*/
            #vtk-container {
                width: 80vh;
                height: 80vh;
                border: 2px solid white;
                pointer-events: auto;
                position: relative;
                z-index: 1000;
            }
        </style>
    </head>
    <body>

        <div class="main-container">
            <!--text section on top left-->
            <div class="text-section">
                <h2>Upload a brain file (.vtp)</h2>

                <form method="post" enctype="multipart/form-data">
                    <input type="file" name="file" accept=".vtp" id="fileInput">
                </form>

                <!--if a file has been uploaded, display the file name-->
                {% if filename %}
                    <h2>Uploaded file: {{ filename }}</h2>
                    <!--functionality for users to input their ratings-->
                    <div style="margin-top:20px;">
                        <input type="number" id="rating" min="1" max="10" placeholder="Rate 1-10">
                        <button onclick="submitRating('{{filename}}')">Submit rating</button>
                    </div>

                    <script>
                        window.filename="{{filename}}";
                    </script>
                {% endif %}
            </div>

            <!--vtk container on right-->
            {% if filename %}
            <div id="vtk-container"></div> 
            {% endif %}
        </div>

        <!--link to external javascript file that handles client-side functionality-->
        <script src="{{url_for('static', filename='js/main.js')}}"></script>
    </body>
</html>
